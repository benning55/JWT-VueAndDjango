{"remainingRequest":"/home/benntend/Desktop/testlogin/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/benntend/Desktop/testlogin/frontend/src/components/Auth.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/benntend/Desktop/testlogin/frontend/src/components/Auth.vue","mtime":1571544422928},{"path":"/home/benntend/Desktop/testlogin/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benntend/Desktop/testlogin/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/benntend/Desktop/testlogin/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benntend/Desktop/testlogin/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4JzsKLy8gaW1wb3J0IHN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0F1dGgnLAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICB2YWxpZDogdHJ1ZSwKICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICBlcnJvcnM6IFtdLAogICAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgICAgIGNyZWRlbnRpYWxzOiB7fSwKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIGxvZ2luKCkgewogICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxzLnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTsKICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFscy5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CiAgICAgICAgICAgIC8vIGNvbnN0IHRlc3RpbmcgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNyZWRlbnRpYWxzKTsKICAgICAgICAgICAgLy8gY2hlY2tpbmcgaWYgdGhlIGlucHV0IGlzIHZhbGlkCiAgICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hdXRoLycsIHRoaXMuY3JlZGVudGlhbHMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGFsZXJ0KHRoaXMuY3JlZGVudGlhbHMpOwogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zdGFydCgpOwogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ3Rva2VuJywgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9tb3ZpZXMnKTsKICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoZS5yZXNwb25zZS5zdGF0dXMpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KGUucmVzcG9uc2UuaGVhZGVycyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUucmVxdWVzdCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KGUucmVxdWVzdCkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoZS5tZXNzYWdlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2hlY2tGb3JtOiBmdW5jdGlvbiAoZSkgewoKICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgJiYgdGhpcy5wYXNzd29yZCkgewogICAgICAgICAgICAgICAgdGhpcy5sb2dpbigpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5lcnJvciA9IFtdOwoKICAgICAgICAgICAgaWYgKCF0aGlzLnVzZXJuYW1lKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdQbGVhc2UgRW50ZXIgVXNlcm5hbWUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIXRoaXMucGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1BsZWFzZSBFbnRlciBQYXNzd29yZCcpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfSwKICAgICAgICBhZGRKc29uKCkgewogICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxzLnVzZXJuYW1lID0gdGhpcy51c2VybmFtZTsKICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFscy5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CiAgICAgICAgICAgIGNvbnN0IHRlc3RpbmcgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNyZWRlbnRpYWxzKTsKICAgICAgICAgICAgLy8gdGhpcy5jcmVkZW50aWFscy5wdXNoKHt1c2VybmFtZTogdGhpcy51c2VybmFtZSwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmR9KTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jcmVkZW50aWFscyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlc3RpbmcpOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Auth.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Auth.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"auth\">\n        <form @submit=\"checkForm\" ref=\"form\">\n            <p v-if=\"errors.length\">\n                <b>Please correct the folloing error(s):</b>\n            <ul>\n                <li v-for=\"(error, index) in errors\" :key=\"index\">{{ error }}</li>\n            </ul>\n            </p>\n\n            <div class=\"form-group\">\n                <label for=\"exampleInputEmail1\">Username</label>\n                <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\"\n                       placeholder=\"Enter username\">\n            </div>\n            <div class=\"form-group\">\n                <label for=\"exampleInputPassword1\">Password</label>\n                <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\"\n                       placeholder=\"Password\">\n            </div>\n            <input type=\"submit\" value=\"submit\">\n        </form>\n\n        <button @click=\"addJson\" type=\"button\">Test</button>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import router from '../router/index';\n    // import swal from 'sweetalert2';\n\n    export default {\n        name: 'Auth',\n        data: () => ({\n            valid: true,\n            loading: false,\n            errors: [],\n            username: null,\n            password: null,\n            credentials: {},\n        }),\n        methods: {\n            login() {\n                this.credentials.username = this.username;\n                this.credentials.password = this.password;\n                // const testing = JSON.stringify(this.credentials);\n                // checking if the input is valid\n                axios.post('http://localhost:8000/auth/', this.credentials).then(res => {\n                    alert(this.credentials);\n                    this.$session.start();\n                    this.$session.set('token', res.data.token);\n                    router.push('/movies');\n                }).catch(e => {\n                    if (e.response) {\n                        alert(e.response.data);\n                        alert(e.response.status);\n                        alert(e.response.headers);\n                    } else if (e.request) {\n                        alert(e.request)\n                    } else {\n                        alert(e.message)\n                    }\n                })\n            },\n            checkForm: function (e) {\n\n                if (this.username && this.password) {\n                    this.login();\n                    return true\n                }\n\n                this.error = [];\n\n                if (!this.username) {\n                    this.errors.push('Please Enter Username');\n                }\n                if (!this.password) {\n                    this.errors.push('Please Enter Password');\n                }\n\n                e.preventDefault();\n            },\n            addJson() {\n                this.credentials.username = this.username;\n                this.credentials.password = this.password;\n                const testing = JSON.stringify(this.credentials);\n                // this.credentials.push({username: this.username, password: this.password});\n                console.log(this.credentials);\n                console.log(testing);\n            }\n        }\n    }\n</script>"]}]}